# ============================================
# ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control!

# ============================================
# APPLICATION SETTINGS
# ============================================
APP_NAME="AI Code Generator"
APP_VERSION="2.0.0"
ENVIRONMENT="development"  # development, staging, production
DEBUG=true
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ============================================
# API KEYS - AI SERVICES
# ============================================

# # OpenAI (GPT-4, GPT-3.5)
OPENAI_API_KEY="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"
OPENAI_ORG_ID=""  # Optional organization ID
OPENAI_MODEL="gpt-4-turbo-preview"  # gpt-4, gpt-4-turbo-preview, gpt-3.5-turbo
OPENAI_MAX_TOKENS=2500
OPENAI_TEMPERATURE=0.3

# Google Gemini (Generative AI) - primary provider
GEMINI_API_KEY=AIzaSyD2E0OoYsZl8XqOLppPRHSKMY3TpmmuO5c
GEMINI_MODEL=gemini-pro
DEFAULT_AI_PROVIDER=gemini

# HuggingFace (CodeLlama, StarCoder, etc.)
HUGGINGFACE_API_KEY="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"
HUGGINGFACE_MODEL="codellama/CodeLlama-34b-Instruct-hf"
HUGGINGFACE_ENDPOINT="https://api-inference.huggingface.co/models/"

# Anthropic Claude (optional)
ANTHROPIC_API_KEY=""

# ============================================
# DATABASE CONFIGURATION
# ============================================

# MariaDB/MySQL
DATABASE_URL="mysql+pymysql://root:password@mariadb:3306/aicode"
DB_HOST="mariadb"
DB_PORT=3306
DB_NAME="aicode"
DB_USER="root"
DB_PASSWORD="SecurePassword123!"
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_ECHO=false  # Set to true to see SQL queries in logs

# PostgreSQL (alternative)
# DATABASE_URL="postgresql://user:password@postgres:5432/aicode"

# SQLite (for local development)
# DATABASE_URL="sqlite:///./aicode.db"

# ============================================
# REDIS CONFIGURATION
# ============================================
REDIS_URL="redis://redis:6379/0"
REDIS_HOST="redis"
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=""  # Leave empty if no password
REDIS_CACHE_TTL=3600  # Cache expiration in seconds

# ============================================
# JWT & SECURITY
# ============================================

# JWT Secret (IMPORTANT: Generate a strong random key!)
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY="your-super-secret-jwt-key-change-this-in-production"
JWT_ALGORITHM="HS256"
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Hashing
PASSWORD_SALT_ROUNDS=12

# CORS Settings
CORS_ORIGINS="http://localhost:3000,http://localhost:5173"  # Comma-separated
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ============================================
# AZURE CONFIGURATION (Production)
# ============================================

# Azure Key Vault
AZURE_KEY_VAULT_URL="https://your-keyvault.vault.azure.net/"
AZURE_CLIENT_ID=""
AZURE_CLIENT_SECRET=""
AZURE_TENANT_ID=""

# Azure App Service
AZURE_SUBSCRIPTION_ID=""
AZURE_RESOURCE_GROUP="aicode-rg"
AZURE_LOCATION="eastus"

# Azure Container Registry
AZURE_REGISTRY_URL="aicode.azurecr.io"
AZURE_REGISTRY_USERNAME=""
AZURE_REGISTRY_PASSWORD=""

# Azure Monitor / Application Insights
AZURE_INSTRUMENTATION_KEY=""
AZURE_CONNECTION_STRING=""

# Azure Storage (for file uploads)
AZURE_STORAGE_CONNECTION_STRING=""
AZURE_STORAGE_CONTAINER_NAME="code-files"

# ============================================
# DOCKER CONFIGURATION
# ============================================

# Docker Sandbox
DOCKER_SOCKET="/var/run/docker.sock"
DOCKER_SANDBOX_IMAGE="aicode-sandbox:latest"
DOCKER_SANDBOX_TIMEOUT=300  # seconds
DOCKER_SANDBOX_MEMORY_LIMIT="2g"
DOCKER_SANDBOX_CPU_LIMIT="2.0"

# Build Container
BUILD_CONTAINER_IMAGE="unrealengine/unreal-engine:5.3.2"
BUILD_TIMEOUT=600  # seconds

# ============================================
# VALIDATION TOOLS
# ============================================

# Clang
CLANG_PATH="/usr/bin/clang-15"
CLANG_FORMAT_PATH="/usr/bin/clang-format-15"
CLANG_TIDY_PATH="/usr/bin/clang-tidy-15"

# Cppcheck
CPPCHECK_PATH="/usr/bin/cppcheck"
CPPCHECK_ENABLE="all"
CPPCHECK_SUPPRESS="missingInclude,unusedFunction"

# UnrealHeaderTool
UHT_PATH="/opt/UnrealEngine/Engine/Binaries/Linux/UnrealHeaderTool"
UE_ENGINE_PATH="/opt/UnrealEngine"

# ============================================
# FRONTEND CONFIGURATION
# ============================================
REACT_APP_API_URL="http://localhost:8000"
REACT_APP_WS_URL="ws://localhost:8000/ws"
REACT_APP_VERSION="2.0.0"
REACT_APP_ENABLE_ANALYTICS=false

# Vite
VITE_API_URL="http://localhost:8000"
VITE_WS_URL="ws://localhost:8000/ws"

# ============================================
# BACKEND API CONFIGURATION
# ============================================
API_HOST="0.0.0.0"
API_PORT=8000
API_WORKERS=4
API_RELOAD=true  # Auto-reload on code changes (dev only)
API_BASE_URL="http://localhost:8000"
API_DOCS_URL="/docs"
API_REDOC_URL="/redoc"

# ============================================
# FILE STORAGE
# ============================================
UPLOAD_DIR="/app/uploads"
MAX_UPLOAD_SIZE_MB=50
ALLOWED_EXTENSIONS=".h,.cpp,.cs,.py,.cmake,.txt,.md"

# Generated Code Storage
CODE_OUTPUT_DIR="/app/generated"
TEMPLATE_DIR="/app/templates"

# ============================================
# MONITORING & LOGGING
# ============================================

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
METRICS_ENABLED=true

# Grafana
GRAFANA_ADMIN_USER="admin"
GRAFANA_ADMIN_PASSWORD="admin"
GRAFANA_PORT=3001

# Sentry (Error Tracking)
SENTRY_DSN=""
SENTRY_ENVIRONMENT="development"
SENTRY_TRACES_SAMPLE_RATE=0.1

# Logging
LOG_FORMAT="json"  # json or text
LOG_FILE="/var/log/aicode/app.log"
LOG_ROTATION="1 day"
LOG_RETENTION="30 days"

# ============================================
# EMAIL CONFIGURATION (Notifications)
# ============================================
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password"
SMTP_FROM="noreply@aicode.dev"
SMTP_USE_TLS=true

# ============================================
# WEBSOCKET CONFIGURATION
# ============================================
WS_ENABLED=true
WS_PATH="/ws"
WS_HEARTBEAT_INTERVAL=30  # seconds
WS_MAX_CONNECTIONS=100

# ============================================
# CELERY (Background Tasks) - Optional
# ============================================
CELERY_BROKER_URL="redis://redis:6379/1"
CELERY_RESULT_BACKEND="redis://redis:6379/2"
CELERY_TASK_TIME_LIMIT=300
CELERY_TASK_SOFT_TIME_LIMIT=240

# ============================================
# NGINX / REVERSE PROXY
# ============================================
NGINX_PORT=80
NGINX_SSL_PORT=443
SSL_CERTIFICATE="/etc/nginx/ssl/cert.pem"
SSL_CERTIFICATE_KEY="/etc/nginx/ssl/key.pem"

# ============================================
# DEVELOPMENT TOOLS
# ============================================

# Pre-commit Hooks
PRE_COMMIT_ENABLED=true
BLACK_LINE_LENGTH=100
ESLINT_ENABLED=true
PRETTIER_ENABLED=true

# Hot Reload
HOT_RELOAD_ENABLED=true
WATCH_FILES=true

# ============================================
# TESTING
# ============================================
TEST_DATABASE_URL="sqlite:///./test.db"
TEST_REDIS_URL="redis://redis:6379/15"
PYTEST_WORKERS=4
COVERAGE_MIN=80  # Minimum code coverage percentage

# ============================================
# FEATURE FLAGS
# ============================================
FEATURE_AI_EXPLAIN=true
FEATURE_AI_FIX=true
FEATURE_DOCKER_BUILD=true
FEATURE_UNREAL_SUPPORT=true
FEATURE_BLENDER_SUPPORT=true
FEATURE_TEAM_COLLABORATION=true
FEATURE_ANALYTICS=true

# ============================================
# CLOUD STORAGE (Optional)
# ============================================

# AWS S3
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_REGION="us-east-1"
AWS_S3_BUCKET="aicode-storage"

# Google Cloud Storage
GCS_BUCKET=""
GCS_CREDENTIALS_JSON=""

# ============================================
# SOCIAL AUTH (Optional)
# ============================================

# GitHub OAuth
GITHUB_CLIENT_ID=""
GITHUB_CLIENT_SECRET=""
GITHUB_CALLBACK_URL="http://localhost:8000/auth/github/callback"

# Google OAuth
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
GOOGLE_CALLBACK_URL="http://localhost:8000/auth/google/callback"

# ============================================
# STRIPE (Payment) - Optional
# ============================================
STRIPE_PUBLIC_KEY=""
STRIPE_SECRET_KEY=""
STRIPE_WEBHOOK_SECRET=""
STRIPE_PRICE_ID=""

# ============================================
# ANALYTICS & TRACKING
# ============================================
GOOGLE_ANALYTICS_ID=""
MIXPANEL_TOKEN=""
HOTJAR_ID=""

# ============================================
# UNREAL ENGINE SPECIFIC
# ============================================
UE_PROJECT_PATH="/opt/UnrealProjects"
UE_PLUGINS_PATH="/opt/UnrealEngine/Engine/Plugins"
UE_BUILD_CONFIGURATION="Development"  # Debug, Development, Shipping
UE_TARGET_PLATFORM="Win64"  # Win64, Linux, Mac

# ============================================
# BLENDER SPECIFIC
# ============================================
BLENDER_PATH="/usr/bin/blender"
BLENDER_VERSION="4.0"
BLENDER_ADDONS_PATH="/usr/share/blender/scripts/addons"
BLENDER_PYTHON_PATH="/usr/bin/python3"

# ============================================
# CI/CD CONFIGURATION
# ============================================
CI=false
CI_COMMIT_SHA=""
CI_BRANCH=""
GITHUB_TOKEN=""
GITHUB_REPOSITORY=""

# ============================================
# PERFORMANCE TUNING
# ============================================
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65
CLIENT_MAX_BODY_SIZE="100M"

# Cache Settings
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=3600
CACHE_MAX_ENTRIES=10000

# ============================================
# BACKUP CONFIGURATION
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM (cron format)
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION="/backups"

# ============================================
# DEVELOPMENT ONLY
# ============================================
# These should be false in production!
ALLOW_CREDENTIALS=true
RELOAD=true
DEBUG_SQL=false
MOCK_AI_RESPONSES=false
SKIP_VALIDATION=false

# ============================================
# PRODUCTION ONLY
# ============================================
# Uncomment and configure for production deployment

# SSL/TLS
# FORCE_HTTPS=true
# HSTS_ENABLED=true
# HSTS_MAX_AGE=31536000

# Security Headers
# X_FRAME_OPTIONS="DENY"
# X_CONTENT_TYPE_OPTIONS="nosniff"
# X_XSS_PROTECTION="1; mode=block"

# Session Security
# SESSION_COOKIE_SECURE=true
# SESSION_COOKIE_HTTPONLY=true
# SESSION_COOKIE_SAMESITE="Lax"

# Production Database Pool
# DB_POOL_SIZE=20
# DB_MAX_OVERFLOW=40
# DB_POOL_TIMEOUT=30
# DB_POOL_RECYCLE=3600

# ============================================
# CUSTOM ENVIRONMENT VARIABLES
# ============================================
# Add your own custom variables here
MY_CUSTOM_VAR=""